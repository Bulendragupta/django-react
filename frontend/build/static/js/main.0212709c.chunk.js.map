{"version":3,"sources":["App.js","index.js"],"names":["axios","defaults","xsrfCookieName","xsrfHeaderName","withCredentials","client","create","baseURL","App","_useState","useState","_useState2","_slicedToArray","currentUser","setCurrentUser","_useState3","_useState4","registrationToggle","setRegistrationToggle","_useState5","_useState6","email","setEmail","_useState7","_useState8","first_name","setFirst_name","_useState9","_useState10","username","setUsername","_useState11","_useState12","password","setPassword","useEffect","get","then","res","catch","error","React","createElement","Navbar","bg","variant","Container","Brand","Toggle","Collapse","className","Text","onSubmit","e","preventDefault","post","submitLogout","Button","type","id","onClick","document","getElementById","innerHTML","Form","submitRegistration","Group","controlId","Label","Control","placeholder","value","onChange","target","submitLogin","ReactDOM","createRoot","render","StrictMode"],"mappings":"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","file":"static/js/main.0212709c.chunk.js","sourcesContent":["import './App.css';\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Container from 'react-bootstrap/Container';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\n\n\naxios.defaults.xsrfCookieName = 'csrftoken';\naxios.defaults.xsrfHeaderName = 'X-CSRFToken';\naxios.defaults.withCredentials = true;\n\nconst client = axios.create({\n  baseURL: \"http://127.0.0.1:8000\"\n});\n\nfunction App() {\n\n  const [currentUser, setCurrentUser] = useState();\n  const [registrationToggle, setRegistrationToggle] = useState(false);\n  const [email, setEmail] = useState('');\n  const [first_name, setFirst_name] = useState('');\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  useEffect(() => {\n    client.get(\"/user\")\n    .then(function(res) {\n      setCurrentUser(true);\n    })\n    .catch(function(error) {\n      setCurrentUser(false);\n    });\n  }, []);\n\n  function update_form_btn() {\n    if (registrationToggle) {\n      document.getElementById(\"form_btn\").innerHTML = \"Register\";\n      setRegistrationToggle(false);\n    } else {\n      document.getElementById(\"form_btn\").innerHTML = \"Log in\";\n      setRegistrationToggle(true);\n    }\n  }\n\n  function submitRegistration(e) {\n    e.preventDefault();\n    client.post(\n      \"/register\",\n      {\n        email: email,\n        username: username,\n        first_name: first_name,\n        password: password\n      }\n    ).then(function(res) {\n      client.post(\n        \"/login\",\n        {\n          email: email,\n          password: password\n        }\n      ).then(function(res) {\n        setCurrentUser(true);\n      });\n    });\n  }\n\n  function submitLogin(e) {\n    e.preventDefault();\n    client.post(\n      \"/login\",\n      {\n        email: email,\n        password: password\n      }\n    ).then(function(res) {\n      setCurrentUser(true);\n    });\n  }\n\n  function submitLogout(e) {\n    e.preventDefault();\n    client.post(\n      \"/logout\",\n      {withCredentials: true}\n    ).then(function(res) {\n      setCurrentUser(false);\n    });\n  }\n\n  if (currentUser) {\n    return (\n      <div>\n        <Navbar bg=\"dark\" variant=\"dark\">\n          <Container>\n            <Navbar.Brand>Authentication App</Navbar.Brand>\n            <Navbar.Toggle />\n            <Navbar.Collapse className=\"justify-content-end\">\n              <Navbar.Text>\n                <form onSubmit={e => submitLogout(e)}>\n                  <Button type=\"submit\" variant=\"light\">Log out</Button>\n                </form>\n              </Navbar.Text>\n            </Navbar.Collapse>\n          </Container>\n        </Navbar>\n          <div className=\"center\">\n            <h2>You're logged in!</h2>\n          </div>\n        </div>\n    );\n  }\n  return (\n    <div>\n    <Navbar bg=\"dark\" variant=\"dark\">\n      <Container>\n        <Navbar.Brand>Authentication App</Navbar.Brand>\n        <Navbar.Toggle />\n        <Navbar.Collapse className=\"justify-content-end\">\n          <Navbar.Text>\n            <Button id=\"form_btn\" onClick={update_form_btn} variant=\"light\">Register</Button>\n          </Navbar.Text>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n    {\n      registrationToggle ? (\n        <div className=\"center\">\n          <Form onSubmit={e => submitRegistration(e)}>\n            <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n              <Form.Label>Email address</Form.Label>\n              <Form.Control type=\"email\" placeholder=\"Enter email\" value={email} onChange={e => setEmail(e.target.value)} />\n              <Form.Text className=\"text-muted\">\n                We'll never share your email with anyone else.\n              </Form.Text>\n            </Form.Group>\n            <Form.Group className=\"mb-3\" controlId=\"formBasicUsername\">\n              <Form.Label>Username</Form.Label>\n              <Form.Control type=\"text\" placeholder=\"Enter Firstname\" value={first_name} onChange={e => setFirst_name(e.target.value)} />\n            </Form.Group>\n            <Form.Group className=\"mb-3\" controlId=\"formBasicUsername\">\n              <Form.Label>Username</Form.Label>\n              <Form.Control type=\"text\" placeholder=\"Enter username\" value={username} onChange={e => setUsername(e.target.value)} />\n            </Form.Group>\n            <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n              <Form.Label>Password</Form.Label>\n              <Form.Control type=\"password\" placeholder=\"Password\" value={password} onChange={e => setPassword(e.target.value)} />\n            </Form.Group>\n            <Button variant=\"primary\" type=\"submit\">\n              Submit\n            </Button>\n          </Form>\n        </div>        \n      ) : (\n        <div className=\"center\">\n          <Form onSubmit={e => submitLogin(e)}>\n            <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n              <Form.Label>Email address</Form.Label>\n              <Form.Control type=\"email\" placeholder=\"Enter email\" value={email} onChange={e => setEmail(e.target.value)} />\n              <Form.Text className=\"text-muted\">\n                We'll never share your email with anyone else.\n              </Form.Text>\n            </Form.Group>\n            <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n              <Form.Label>Password</Form.Label>\n              <Form.Control type=\"password\" placeholder=\"Password\" value={password} onChange={e => setPassword(e.target.value)} />\n            </Form.Group>\n            <Button variant=\"primary\" type=\"submit\">\n              Submit\n            </Button>\n          </Form>\n        </div>\n      )\n    }\n    </div>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n//reportWebVitals();"],"sourceRoot":""}